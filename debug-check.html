<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explanium Debug Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #00d4aa;
        }
        .section h2 {
            color: #00d4aa;
            margin-top: 0;
        }
        .test-text {
            background: #fff;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border: 1px solid #ddd;
        }
        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .debug-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .debug-info h3 {
            margin-top: 0;
            color: #1976d2;
        }
        .debug-info code {
            background: #fff;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Explanium Debug Test Page</h1>
        
        <div class="debug-info">
            <h3>üõ†Ô∏è Testing Settings Fix</h3>
            <p>This page is designed to test the settings fix for the Explanium extension.</p>
            <p><strong>Instructions:</strong></p>
            <ol>
                <li>Open the browser console (F12) to see debug messages</li>
                <li>Try selecting text below with the extension enabled</li>
                <li>Go to extension options and disable the extension</li>
                <li>Try selecting text again - it should NOT work</li>
                <li>Re-enable the extension and try again - it should work immediately</li>
            </ol>
        </div>

        <div class="section">
            <h2>üß™ Test 1: Settings Toggle</h2>
            <div class="test-text">
                <p>Select this text to test the extension: <span class="highlight">Machine learning</span> is a subset of artificial intelligence that enables computers to learn and improve from experience without being explicitly programmed.</p>
            </div>
            <p><strong>Expected behavior:</strong> When extension is disabled, no popup should appear. When enabled, popup should appear immediately.</p>
        </div>

        <div class="section">
            <h2>üß™ Test 2: Auto-explain Toggle</h2>
            <div class="test-text">
                <p>Select this text to test auto-explain: <span class="highlight">Quantum computing</span> uses quantum mechanical phenomena like superposition and entanglement to process information in fundamentally different ways than classical computers.</p>
            </div>
            <p><strong>Expected behavior:</strong> When auto-explain is disabled, no popup should appear on selection. Context menu should still work.</p>
        </div>

        <div class="section">
            <h2>üß™ Test 3: Context Menu</h2>
            <div class="test-text">
                <p>Right-click this text and select "Explain with Explanium": <span class="highlight">Artificial neural networks</span> are computing systems inspired by biological neural networks that constitute animal brains.</p>
            </div>
            <p><strong>Expected behavior:</strong> Context menu should respect the extension enabled/disabled setting, but should work even when auto-explain is disabled.</p>
        </div>

        <div class="section">
            <h2>üß™ Test 4: Long Text</h2>
            <div class="test-text">
                <p>Select this longer text: <span class="highlight">Deep learning is a subset of machine learning that uses artificial neural networks with multiple layers to model and understand complex patterns in data. It has revolutionized fields like computer vision, natural language processing, and speech recognition by enabling computers to automatically learn hierarchical representations of data. The term "deep" refers to the multiple layers in the network, with each layer learning progressively more abstract features from the raw input data.</span></p>
            </div>
            <p><strong>Expected behavior:</strong> Should work based on the "Long text" setting in options.</p>
        </div>

        <div class="debug-info">
            <h3>üîç Debug Console Messages</h3>
            <p>Watch the browser console for these messages:</p>
            <ul>
                <li><code>üìã Settings changed, updating...</code> - When settings are updated</li>
                <li><code>‚úÖ Settings check passed</code> - When text selection is allowed</li>
                <li><code>‚ùå Extension is disabled</code> - When extension is disabled</li>
                <li><code>‚ùå Auto-explain is disabled</code> - When auto-explain is disabled</li>
                <li><code>üö´ Extension disabled, hiding popup</code> - When popup is hidden due to settings</li>
            </ul>
        </div>
    </div>
</body>
</html> 